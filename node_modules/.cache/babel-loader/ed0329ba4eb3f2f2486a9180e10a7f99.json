{"remainingRequest":"/Users/sorens/Documents/GitHub/vfde-inv-var-ui-demo/node_modules/babel-loader/lib/index.js!/Users/sorens/Documents/GitHub/vfde-inv-var-ui-demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/sorens/Documents/GitHub/vfde-inv-var-ui-demo/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/sorens/Documents/GitHub/vfde-inv-var-ui-demo/src/components/dashboard/config/audit_log/AuditLog.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/sorens/Documents/GitHub/vfde-inv-var-ui-demo/src/components/dashboard/config/audit_log/AuditLog.vue","mtime":1639653885444},{"path":"/Users/sorens/Documents/GitHub/vfde-inv-var-ui-demo/node_modules/cache-loader/dist/cjs.js","mtime":1639655034192},{"path":"/Users/sorens/Documents/GitHub/vfde-inv-var-ui-demo/node_modules/babel-loader/lib/index.js","mtime":1639655034093},{"path":"/Users/sorens/Documents/GitHub/vfde-inv-var-ui-demo/node_modules/cache-loader/dist/cjs.js","mtime":1639655034192},{"path":"/Users/sorens/Documents/GitHub/vfde-inv-var-ui-demo/node_modules/vue-loader/lib/index.js","mtime":1639655080628}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICIvVXNlcnMvc29yZW5zL0RvY3VtZW50cy9HaXRIdWIvdmZkZS1pbnYtdmFyLXVpLWRlbW8vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5IjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgZmFrZUxvZ3MgfSBmcm9tICJAL2NvbmZpZyI7CmltcG9ydCBDb21tb25NZXRob2RzIGZyb20gIkAvbWl4aW5zL2NvbW1vbk1ldGhvZHMiOwppbXBvcnQgTG9hZGluZyBmcm9tICJAL2NvbXBvbmVudHMvTG9hZGluZyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQXVkaXRMb2ciLAogIGNvbXBvbmVudHM6IHsKICAgIExvYWRpbmc6IExvYWRpbmcKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsb2dzOiBbXQogICAgfTsKICB9LAogIG1peGluczogW0NvbW1vbk1ldGhvZHNdLAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLiRlbWl0KCdzZXRUYWInLCB0aGlzLmFjdGl2ZVRhYik7IC8vIE5lZWQgdG8gd2FpdCBhIG1pbGlzZWNvbmQgYmVmb3JlIGNoZWtpbmcgcG9zaXRpb25pbmcsIG90aGVyd2lzZSBpdCByZXR1cm5zIDAuCgogICAgdmFyIGNoZWNrRm9yTG9ncyA9IHRoaXMuY2hlY2tGb3JMb2dzOwogICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgIGNoZWNrRm9yTG9ncygpOwogICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgZnVuY3Rpb24gKCkgewogICAgICAgIGNoZWNrRm9yTG9ncygpOwogICAgICB9KTsKICAgIH0sIDEpOwogIH0sCiAgcHJvcHM6IHsKICAgIGFjdGl2ZVRhYjogU3RyaW5nCiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRMb2dzOiBmdW5jdGlvbiBnZXRMb2dzKCkgewogICAgICB2YXIgX3RoaXMkbG9nczsKCiAgICAgIC8vICBSZXBsYWNlIHRoaXMgd2l0aCBhbiBBUEkgY2FsbCB3aGVuIGF2YWlsYWJsZS4gRmFrZSBkYXRhIGZvciBub3cuCiAgICAgIChfdGhpcyRsb2dzID0gdGhpcy5sb2dzKS5wdXNoLmFwcGx5KF90aGlzJGxvZ3MsIF90b0NvbnN1bWFibGVBcnJheShmYWtlTG9ncygzMCkpKTsKICAgIH0sCiAgICBsb2FkaW5nVGV4dFZpc2libGU6IGZ1bmN0aW9uIGxvYWRpbmdUZXh0VmlzaWJsZSgpIHsKICAgICAgdmFyIHZpZXdwb3J0SGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0OwogICAgICB2YXIgbG9hZGluZ1RleHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9hZGluZycpOwogICAgICB2YXIgb2Zmc2V0ID0gbG9hZGluZ1RleHQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wOwogICAgICB2YXIgaW5WaWV3ID0gb2Zmc2V0IDwgdmlld3BvcnRIZWlnaHQ7CiAgICAgIHJldHVybiBpblZpZXc7CiAgICB9LAogICAgY2hlY2tGb3JMb2dzOiBmdW5jdGlvbiBjaGVja0ZvckxvZ3MoKSB7CiAgICAgIGlmICh0aGlzLmxvYWRpbmdUZXh0VmlzaWJsZSgpKSB7CiAgICAgICAgdGhpcy5nZXRMb2dzKCk7CiAgICAgIH0KICAgIH0KICB9LAogIHdhdGNoOiB7fQp9Ow=="},{"version":3,"sources":["AuditLog.vue"],"names":[],"mappings":";;;;;;;;;;;;;AAcA,SAAA,QAAA,QAAA,UAAA;AACA,OAAA,aAAA,MAAA,wBAAA;AACA,OAAA,OAAA,MAAA,sBAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,UADA;AAEA,EAAA,UAAA,EAAA;AAAA,IAAA,OAAA,EAAA;AAAA,GAFA;AAGA,EAAA,IAHA,kBAGA;AACA,WAAA;AACA,MAAA,IAAA,EAAA;AADA,KAAA;AAGA,GAPA;AAQA,EAAA,MAAA,EAAA,CACA,aADA,CARA;AAWA,EAAA,OAXA,qBAWA;AACA,SAAA,KAAA,CAAA,QAAA,EAAA,KAAA,SAAA,EADA,CAEA;;AACA,QAAA,YAAA,GAAA,KAAA,YAAA;AACA,IAAA,UAAA,CAAA,YAAA;AACA,MAAA,YAAA;AACA,MAAA,MAAA,CAAA,gBAAA,CAAA,QAAA,EAAA,YAAA;AACA,QAAA,YAAA;AACA,OAFA;AAGA,KALA,EAKA,CALA,CAAA;AAOA,GAtBA;AAuBA,EAAA,KAAA,EAAA;AACA,IAAA,SAAA,EAAA;AADA,GAvBA;AA0BA,EAAA,OAAA,EAAA;AACA,IAAA,OADA,qBACA;AAAA;;AACA;AACA,yBAAA,IAAA,EAAA,IAAA,sCAAA,QAAA,CAAA,EAAA,CAAA;AACA,KAJA;AAKA,IAAA,kBALA,gCAKA;AACA,UAAA,cAAA,GAAA,MAAA,CAAA,WAAA;AACA,UAAA,WAAA,GAAA,QAAA,CAAA,cAAA,CAAA,SAAA,CAAA;AACA,UAAA,MAAA,GAAA,WAAA,CAAA,qBAAA,GAAA,GAAA;AACA,UAAA,MAAA,GAAA,MAAA,GAAA,cAAA;AACA,aAAA,MAAA;AACA,KAXA;AAYA,IAAA,YAZA,0BAYA;AACA,UAAA,KAAA,kBAAA,EAAA,EAAA;AACA,aAAA,OAAA;AACA;AACA;AAhBA,GA1BA;AA4CA,EAAA,KAAA,EAAA;AA5CA,CAAA","sourcesContent":["<template>\n  <div id=\"audit-log\">\n      <ul class=\"logs\">\n        <li :key=\"`log_${log.id}}`\" v-for=\"log in logs\" :class=\"$t(log.action)\">\n          <h3>{{localiseDate(log.dateTime, true)}} - {{$t(log.action)}}</h3>\n          <p class=\"text\">{{$t(log.text)}}</p>\n        </li>\n      </ul>\n    <Loading/>\n  </div>\n</template>\n\n<script>\n\nimport {fakeLogs} from \"@/config\";\nimport CommonMethods from \"@/mixins/commonMethods\"\nimport Loading from \"@/components/Loading\";\n\nexport default {\n  name: \"AuditLog\",\n  components: {Loading},\n  data() {\n    return {\n      logs: []\n    }\n  },\n  mixins: [\n    CommonMethods\n  ],\n  mounted() {\n    this.$emit('setTab', this.activeTab);\n    // Need to wait a milisecond before cheking positioning, otherwise it returns 0.\n    const checkForLogs = this.checkForLogs\n    setTimeout(function(){\n      checkForLogs()\n      window.addEventListener('scroll', () => {\n        checkForLogs()\n      })\n    }, 1);\n\n  },\n  props: {\n    activeTab: String,\n  },\n  methods: {\n    getLogs() {\n      //  Replace this with an API call when available. Fake data for now.\n      this.logs.push(...fakeLogs(30))\n    },\n    loadingTextVisible() {\n      const viewportHeight = window.innerHeight\n      const loadingText = document.getElementById('loading')\n      const offset = loadingText.getBoundingClientRect().top\n      const inView = offset < viewportHeight;\n      return inView\n    },\n    checkForLogs() {\n      if (this.loadingTextVisible()) {\n        this.getLogs()\n      }\n    }\n  },\n  watch: {\n\n  }\n}\n\n\n\n</script>\n\n<style lang=\"scss\" scoped >\n\n\n  .logs {\n    border-left:2px solid;\n    margin:1em 1.5em;\n    padding-left:2em;\n    text-align: left;\n    li {\n      list-style: none;\n      display: block;\n      margin-bottom: 1em;\n      &.comment {\n        p {\n          padding:.75em 1em;\n          border: 1px solid;\n          border-radius: .25em;\n          margin-top:.5em;\n        }\n\n      }\n      p {\n        margin: 0; padding: 0;\n      }\n      h3 {\n        font-size: 1em;\n        display: inline-block;\n        margin:0;\n        padding: 0;\n        font-weight: bold;\n        text-transform: capitalize;\n        &:before {\n          content:\"\";\n          display: inline-block;\n          height: 1em;\n          width: 1em;\n          background-color: #fff;\n          border:2px solid;\n          border-radius: 2em;\n          position: absolute;\n          margin-left: -2.6em;\n          margin-top: 0.1em;\n        }\n      }\n    }\n  }\n</style>\n\n"],"sourceRoot":"src/components/dashboard/config/audit_log"}]}