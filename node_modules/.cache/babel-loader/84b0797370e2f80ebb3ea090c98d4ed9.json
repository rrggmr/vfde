{"remainingRequest":"/Users/sorens/Documents/GitHub/vfde-inv-var-ui-demo/node_modules/babel-loader/lib/index.js!/Users/sorens/Documents/GitHub/vfde-inv-var-ui-demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/sorens/Documents/GitHub/vfde-inv-var-ui-demo/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/sorens/Documents/GitHub/vfde-inv-var-ui-demo/src/components/dashboard/data/DataRouter.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/sorens/Documents/GitHub/vfde-inv-var-ui-demo/src/components/dashboard/data/DataRouter.vue","mtime":1639653885447},{"path":"/Users/sorens/Documents/GitHub/vfde-inv-var-ui-demo/node_modules/cache-loader/dist/cjs.js","mtime":1639655034192},{"path":"/Users/sorens/Documents/GitHub/vfde-inv-var-ui-demo/node_modules/babel-loader/lib/index.js","mtime":1639655034093},{"path":"/Users/sorens/Documents/GitHub/vfde-inv-var-ui-demo/node_modules/cache-loader/dist/cjs.js","mtime":1639655034192},{"path":"/Users/sorens/Documents/GitHub/vfde-inv-var-ui-demo/node_modules/vue-loader/lib/index.js","mtime":1639655080628}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmpvaW4uanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgcm91dGVzIGZyb20gIkAvcm91dGVyL3JvdXRlcy9kYXRhIjsKaW1wb3J0IFNpZGViYXIgZnJvbSAiQC9jb21wb25lbnRzL2Rhc2hib2FyZC9TaWRlYmFyIjsKaW1wb3J0IHNpZGViYXJNZXRob2RzIGZyb20gIkAvbWl4aW5zL3NpZGViYXJNZXRob2RzIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJEYXRhUm91dGVyIiwKICBjb21wb25lbnRzOiB7CiAgICBTaWRlYmFyOiBTaWRlYmFyCiAgfSwKICBtaXhpbnM6IFtzaWRlYmFyTWV0aG9kc10sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHJvdXRlczogcm91dGVzWzBdLmNoaWxkcmVuLAogICAgICB0YWI6IDEsCiAgICAgIHNpZGViYXJDb250YWluZXJWaXNpYmxlOiBmYWxzZSwKICAgICAgc2lkZWJhcnM6IFtdLAogICAgICB0YWJTZXQ6IGZhbHNlCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuc2V0SW5pdGlhbFRhYigpOwogIH0sCiAgbWV0aG9kczogewogICAgZXhwYW5kTmVzdGVkRGF0YTogZnVuY3Rpb24gZXhwYW5kTmVzdGVkRGF0YShuZXdTaWRlYmFyQ29udGVudCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgLy8gdGhpcy5zaWRlYmFycy5wdXNoKG5ld1NpZGViYXIpCiAgICAgIHZhciBzaWRlYmFyQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNpZGViYXJDb250YWluZXIiKTsKICAgICAgc2lkZWJhckNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdpbmRlbnRlZCcpOwogICAgICB2YXIgdXBkYXRlU2lkZWJhcnMgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgaWYgKF90aGlzLnNpZGViYXJzLnB1c2gobmV3U2lkZWJhckNvbnRlbnQpKSB7CiAgICAgICAgICByZXNvbHZlKCJTdWNjZXNzIik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJlamVjdCgiRmFpbGVkIik7CiAgICAgICAgfQogICAgICB9KTsgLy8gT25jZSBpdCdzIGJlZW4gYWRkZWQsIHNjcm9sbCBpbnRvIHZpZXcgc28gd2UgYWx3YXlzIHNlZSB0aGUgbW9zdCByZWNlbnQgc2lkZWJhci4KCiAgICAgIHVwZGF0ZVNpZGViYXJzLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzLnNjcm9sbFRvQ3VycmVudFNpZGViYXIoKTsKICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMuYW5pbWF0ZVNpZGViYXJzKHNpZGViYXJDb250YWluZXIpOwogICAgICB9KTsKICAgIH0sCiAgICBnZXRTaWRlYmFyczogZnVuY3Rpb24gZ2V0U2lkZWJhcnMoc2lkZWJhcnMpIHsKICAgICAgdGhpcy5zaWRlYmFycyA9IHNpZGViYXJzOwogICAgfSwKICAgIHNldEluaXRpYWxUYWI6IGZ1bmN0aW9uIHNldEluaXRpYWxUYWIoKSB7CiAgICAgIC8vIE5lZWRzIGEgYmxhbmsgdGltZW91dCBvciBpdCBnbGl0Y2hlcyBiYWNrIHRvIHRoZSBpbml0aWFsIHZhbHVlIG9mIDAuCiAgICAgIC8vIFRPRE86IE1pZ2h0IGJlIGFibGUgdG8gcmVwbGFjZSB0aGlzIHdpdGggYSBwcm9taXNlPwogICAgICB2YXIgY29tcG9uZW50ID0gdGhpczsKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgY29tcG9uZW50LnRhYiA9IGNvbXBvbmVudC5nZXRBY3RpdmVUYWIoKTsKICAgICAgICBjb21wb25lbnQudGFiU2V0ID0gdHJ1ZTsKICAgICAgfSwgMCk7CiAgICB9LAogICAgZ2V0QWN0aXZlVGFiOiBmdW5jdGlvbiBnZXRBY3RpdmVUYWIoKSB7CiAgICAgIHZhciBhY3RpdmVUYWJOYW1lID0gdGhpcy4kcm91dGUucGF0aC5zcGxpdCgnLycpWzJdOwoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnJvdXRlcy5sZW5ndGg7IGkrKykgewogICAgICAgIHZhciByb3V0ZVBhdGggPSB0aGlzLnJvdXRlc1tpXS5wYXRoLnJlcGxhY2UoJy8nLCAnJykucmVwbGFjZSgvXCovZywgJycpOwogICAgICAgIHZhciBtYXRjaCA9IGFjdGl2ZVRhYk5hbWUgPT09IHJvdXRlUGF0aDsKCiAgICAgICAgaWYgKG1hdGNoKSB7CiAgICAgICAgICByZXR1cm4gaTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiAwOwogICAgfSwKICAgIHNob3dTaWRlYmFyOiBmdW5jdGlvbiBzaG93U2lkZWJhcihkYXRhKSB7CiAgICAgIHRoaXMuc2lkZWJhclR5cGUgPSBkYXRhLnR5cGU7CiAgICAgIHRoaXMuc2lkZWJhcldpZHRoID0gZGF0YS53aWR0aDsKICAgICAgdGhpcy5zaWRlYmFyQ29udGFpbmVyVmlzaWJsZSA9IHRoaXMuc2lkZWJhcnMubGVuZ3RoID4gMDsKICAgIH0sCiAgICBjb2xsYXBzZVNpZGViYXI6IGZ1bmN0aW9uIGNvbGxhcHNlU2lkZWJhcihpbmRleCkgewogICAgICBjb25zb2xlLmxvZygnQ2xvc2luZyBzaWRlYmFyJywgaW5kZXgpOwogICAgICBjb25zb2xlLmxvZyh0aGlzLnNpZGViYXJzKTsKICAgICAgdGhpcy5zaWRlYmFycyA9IHRoaXMuc2lkZWJhcnMuc2xpY2UoMCwgaW5kZXgpOwogICAgICB0aGlzLnNpZGViYXJDb250YWluZXJWaXNpYmxlID0gdGhpcy5zaWRlYmFycy5sZW5ndGggPiAwOwoKICAgICAgaWYgKCF0aGlzLnNpZGViYXJDb250YWluZXJWaXNpYmxlKSB7CiAgICAgICAgdGhpcy5iYWNrVG9CYXNlVXJsKCk7CiAgICAgIH0KICAgIH0sCiAgICBiYWNrVG9CYXNlVXJsOiBmdW5jdGlvbiBiYWNrVG9CYXNlVXJsKCkgewogICAgICB2YXIgY3VycmVudFBhdGggPSB0aGlzLiRyb3V0ZS5wYXRoOwogICAgICB2YXIgcGF0aEVsZW1lbnRzID0gY3VycmVudFBhdGguc3BsaXQoJy8nKTsKICAgICAgdmFyIGVkaXRvclBvc2l0aW9uID0gcGF0aEVsZW1lbnRzLmluZGV4T2YoJ2VkaXRvcicpOwogICAgICB2YXIgc2xpY2UgPSBwYXRoRWxlbWVudHMuc2xpY2UoMCwgZWRpdG9yUG9zaXRpb24pOwogICAgICB2YXIgbmV3UGF0aCA9IHNsaWNlLmpvaW4oJy8nKSArICcvJzsKICAgICAgdGhpcy4kcm91dGVyLnB1c2gobmV3UGF0aCk7CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgdGFiOiBmdW5jdGlvbiB0YWIoKSB7CiAgICAgIHZhciBvbGRQYXRoID0gdGhpcy4kcm91dGUucGF0aDsKICAgICAgdmFyIG5ld1BhdGggPSAnL2RhdGEvJyArIHRoaXMucm91dGVzW3RoaXMudGFiXS5wYXRoLnJlcGxhY2UoL1wqL2csICcnKSArICcvJzsKICAgICAgbmV3UGF0aCA9IG5ld1BhdGgucmVwbGFjZSgnLy8nLCAnLycpOwogICAgICB2YXIgY2hpbGRyZW4gPSBvbGRQYXRoLnJlcGxhY2UobmV3UGF0aCwgJycpOwoKICAgICAgaWYgKG5ld1BhdGggIT09IG9sZFBhdGggJiYgbmV3UGF0aCArIGNoaWxkcmVuICE9PSBvbGRQYXRoKSB7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2gobmV3UGF0aCk7CiAgICAgIH0KICAgIH0sCiAgICAkcm91dGU6IGZ1bmN0aW9uICRyb3V0ZSgpIHsKICAgICAgdGhpcy50YWIgPSB0aGlzLmdldEFjdGl2ZVRhYigpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["DataRouter.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <b-tabs v-model=\"tab\" v-if=\"tabSet\">\n      <b-tab\n          v-for=\"(route) in routes\"\n          :key=\"route.name\"\n          :title=\"$t(route.name)\"\n      >\n      </b-tab>\n      <b-card>\n        <router-view @showSidebar=\"showSidebar\" @passSidebars=\"getSidebars\" />\n      </b-card>\n    </b-tabs>\n    <div id=\"sidebarContainer\" v-if=\"sidebarContainerVisible\" >\n      <Sidebar\n          v-for=\"(sidebar, index) in sidebars\"\n          :key=\"`sidebar_${sidebar.id}`\"\n          :sidebar-type=\"sidebar.type\"\n          :sidebar-width=\"sidebar.width\"\n          :sidebar-content=\"sidebar.content\"\n          @closeSidebar=\"collapseSidebar(index)\"\n          @expandNestedData=\"expandNestedData\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport routes from \"@/router/routes/data\";\nimport Sidebar from \"@/components/dashboard/Sidebar\";\nimport sidebarMethods from \"@/mixins/sidebarMethods\";\n\nexport default {\n  name: \"DataRouter\",\n  components: {Sidebar},\n  mixins: [\n    sidebarMethods\n  ],\n  data() {\n    return {\n      routes: routes[0].children,\n      tab: 1,\n      sidebarContainerVisible: false,\n      sidebars: [],\n      tabSet: false\n    }\n  },\n  mounted() {\n    this.setInitialTab()\n  },\n  methods: {\n    expandNestedData(newSidebarContent) {\n      // this.sidebars.push(newSidebar)\n      const sidebarContainer = document.getElementById(\"sidebarContainer\")\n      sidebarContainer.classList.add('indented')\n      let updateSidebars = new Promise((resolve, reject) => {\n        if (this.sidebars.push(newSidebarContent)) {\n          resolve(\"Success\")\n        } else {\n          reject(\"Failed\")\n        }\n      })\n      // Once it's been added, scroll into view so we always see the most recent sidebar.\n      updateSidebars.then(()=> {\n        this.scrollToCurrentSidebar()\n      }).then(()=> {this.animateSidebars(sidebarContainer)})\n    },\n    getSidebars(sidebars) {\n      this.sidebars = sidebars\n    },\n    setInitialTab() {\n      // Needs a blank timeout or it glitches back to the initial value of 0.\n      // TODO: Might be able to replace this with a promise?\n      const component = this\n      setTimeout(function(){\n        component.tab=component.getActiveTab()\n        component.tabSet = true\n      }, 0);\n    },\n    getActiveTab() {\n      const activeTabName = this.$route.path.split('/')[2]\n      for (let i=0; i<this.routes.length; i++) {\n        const routePath = this.routes[i].path.replace('/','').replace(/\\*/g, '')\n        const match = activeTabName === routePath\n        if(match) {\n          return i\n        }\n      }\n      return 0\n    },\n    showSidebar(data) {\n      this.sidebarType = data.type\n      this.sidebarWidth = data.width\n      this.sidebarContainerVisible = this.sidebars.length>0\n    },\n    collapseSidebar(index) {\n      console.log('Closing sidebar', index)\n      console.log(this.sidebars)\n      this.sidebars = this.sidebars.slice(0, index)\n      this.sidebarContainerVisible = this.sidebars.length>0\n      if (!this.sidebarContainerVisible) {\n        this.backToBaseUrl()\n      }\n    },\n    backToBaseUrl() {\n      const currentPath = this.$route.path\n      const pathElements = currentPath.split('/')\n      const editorPosition = pathElements.indexOf('editor')\n      const slice = pathElements.slice(0, editorPosition)\n      const newPath = slice.join('/') + '/'\n      this.$router.push(newPath)\n    },\n  },\n  watch: {\n    tab() {\n      const oldPath = this.$route.path\n      let newPath = '/data/' + this.routes[this.tab].path.replace(/\\*/g, '') + '/'\n      newPath = newPath.replace('//', '/')\n      const children = oldPath.replace(newPath, '')\n      if (newPath !== oldPath && newPath + children !== oldPath) {\n         this.$router.push(newPath)\n      }\n    },\n    $route() {\n      this.tab = this.getActiveTab()\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n"],"sourceRoot":"src/components/dashboard/data"}]}